<!--
Meta Description: # Perlの「sub」：サブルーチンの定義と利用方法 ## 概要 Perlにおける「sub」は、サブルーチンを定義するためのキーワードです。サブルーチンは、特定のタスクを実行するコードのブロックであり、再利用可能な形でプログラム内で呼び出すことができます。 ## ドキュメンテーション ### 目的...
Meta Keywords: sub, perl, return, perlの, サブルーチンは
-->

# Perlの「sub」：サブルーチンの定義と利用方法

## 概要
Perlにおける「sub」は、サブルーチンを定義するためのキーワードです。サブルーチンは、特定のタスクを実行するコードのブロックであり、再利用可能な形でプログラム内で呼び出すことができます。

## ドキュメンテーション
### 目的
「sub」は、プログラム内で特定の処理をカプセル化し、名前を付けて再利用できるようにするための機能です。これにより、コードがより整理され、可読性が向上します。

### 使用法
サブルーチンを定義するには、以下の構文を使用します。

```perl
sub サブルーチン名 {
    # 処理内容
}
```

サブルーチンを呼び出すには、その名前を記述します。

```perl
サブルーチン名();
```

### 詳細
- サブルーチンは任意の数の引数を受け取ることができ、`@_`配列を使用してアクセスします。
- 戻り値は、`return`文を使って指定できます。
- サブルーチンは、プログラムの任意の位置から呼び出すことができます。

## 例
### 基本的な使用例

```perl
# サブルーチンの定義
sub greet {
    my ($name) = @_;  # 引数の受け取り
    return "こんにちは、$name さん！";  # 戻り値
}

# サブルーチンの呼び出し
my $message = greet("太郎");
print $message;  # "こんにちは、太郎 さん！" と表示
```

### 引数を持つサブルーチンの例

```perl
sub add {
    my ($a, $b) = @_;  # 2つの引数を受け取る
    return $a + $b;    # 引数の合計を返す
}

my $result = add(5, 3);
print $result;  # 8 と表示
```

## 説明
- **引数の取り扱い**: サブルーチン内で引数を受け取る際、`@_`を通じてアクセスする必要があります。これを忘れると、期待したデータが取得できません。
- **スコープ**: サブルーチン内で定義した変数は、そのスコープ内でのみ有効です。グローバル変数を使用したい場合は、`my`ではなく、`our`を使います。
- **再帰呼び出し**: サブルーチンは自分自身を呼び出すことができ、これを「再帰」と呼びます。ただし、無限再帰に注意が必要です。

## 一行要約
Perlの「sub」は、サブルーチンを定義し、コードの再利用性と可読性を向上させるための重要な機能です。